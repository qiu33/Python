## Python期末项目总结

### 项目合作人：17级唐颖欣 18级邱珊珊 18级卢继志

本项目主要是探讨网红背后的数据经济与热门移动端APP的发展是如何构建精准节点，实现庞大的经济效益

#### 项目分工
* 由17级唐颖欣负责提供数据和对数据故事具有表现力的地图等，包含两份数据，两份图表，还提供了ipynb文档
* 由18级卢继志和我共同部署网页，我通过掌握到的python知识，比如**条件判断、推导式、循环遍历等，实现了具有交互功能的html页面，比如下拉框和数据表格交互，下拉框和条形图交互，编写了网页基本的css样式、html等**，我也适当的从 www.jq22.com 引进了一些插件，对网页实现除数据外的交互效果，对网页进行美化，最后将网页部署到Pythonanywhere

* [Pythonanywhere URL](http://qiu33.pythonanywhere.com)：http://qiu33.pythonanywhere.com
* [Github URL](https://github.com/qiu33/Python)：https://github.com/qiu33/Python


* 页面内分别有3个url
1.	[首页](http://qiu33.pythonanywhere.com)：该页面主要展示国内前100名mcn的分布情况
2.	[各省数据](http://qiu33.pythonanywhere.com/appadd?cici=手机淘宝)：该页面更加详细展示各省mcn机构数量
3.	[app发展](http://qiu33.pythonanywhere.com/select?city=北京)：该页面展示近两年9个常用app的增长情况


### [首页]( http://qiu33.pythonanywhere.com)

* 首页运用所学python知识，该页面链接了templates里面的index_1.html，在该html内做好基本构架；在app.py内针对该页面使用def函数，用read方法读取msn2.csv里的所有数据，并使用return方法将数据以表格形式返回呈现，同时运用条件判断if和get/post方法实现页面跳转交互;
* 首页上面的三个按钮可以实现页面跳转，跳到相对应的页面；其中在左侧我引入了来自jq22网站的插件，项目人分别对应我们三个，并且链接到相应的github主页，同时，当页面往下滑动查看表格的时候，可以按左侧的按钮回到顶部，既方便又节约时间；
* 地图由17级唐颖欣提供，表格的呈现由我和卢继志负责，通过地图和表格可以看到国内前100名mcn的分布情况，由此可以看到mcn机构偏爱在江浙沪选址，紧靠传媒行业的发展和物流交通行业

### [各省数据]( http://qiu33.pythonanywhere.com/select?city=北京)

* 各省mcn机构分布数量页面链接了templates里面的index_2.html，自定义函数读取msn2.csv里的数据，在app.py内针对该页面使用推导式，条件判断，循环遍历来实现下拉框选择后与表格数据的交互，所以当选择某个地区后，不再是显示所有数据，而是仅显示该地区的数据
* 在这个页面除了按钮跳转页面以外，还有下拉框可以互动，实现数据过滤，选哪个地区表格就呈现哪个地区的mcn机构数据，由此可以看到mcn机构在北京市分布最密集；
* 同时此页面右侧的悬浮球也引自jq22网，按住可以拖动，鼠标放上去会显示我们三个项目合作人的名字，同样也链接到个人的github主页，app对比页面也同样引入了此插件
* 在各省数据页面放置了不同于首页的地图和表格，地图颜色的深浅代表mcn机构数量的多少，颜色越深，数量越多，更加直观反映mcn机构集中分布在那个地区；

### [app发展]( http://qiu33.pythonanywhere.com/appadd?cici=手机淘宝)

* app发展页面，链接了templates里面的bar.html，自定义函数读取mobile.csv里的数据，通过条件判断语句和推导式来实现下拉框所选数据的呈现
* 在这个页面用了条形图来对比2018年和2019年十一月份月份9个常用APP的增幅情况，除了全部合并在一起的条形图，我们还制作了单一对比的条形图，和下拉框实现交互，选择哪个app就呈现这个app 2018年和2019年的数据对比，更方便查看想要了解的app
* 通过这个页面的数据可以知道，在综合九个数据来看，除了天猫和苏宁易购的年度增长率在减低之外，其余七个软件在这两年增幅趋势都呈上升状态，而以抖音短视频为首的短视频平台加入更多电商直播带货功能，短视频类app如雨后春笋班茁壮成长，也带动了很多主播带货的现状，这在一定程度上体现出了网红背后带货的力量，与MCN机构构成了密不可分的关系。


### 项目文档说明

#### 1. 关于python档描述

* 调用了flask、pandas、pyecharts模块来使此项目运行

* 读取数据文档使用df = pd.read_csv("./static/data/msn2.csv")的方式

* 使用字典形式将城市写入，方便后续的读取

* 使用路由规则@app.route("/")，建立路由指向目标路径，并且每一个路由都用return来返回一个值

* if循环语句的使用，例如：for j in province_city: if...else... 最后使用break来终止循环

#### 2. 关于html档描述

* 在static中放置写好的网页css样式，并在templates中将每一个html都链接到此样式，实现页面美化

* 在每个html文档中都写好基本构架，比如按钮的构架、表单的构架，都事先写在html里，在后续运行app.py的时候可以直接调用

* 添加了交互组件，使得页面具有交互性，比如页面的按钮，可以实现页面跳转，下拉框，选择需要的数据，并实现图表的交互，侧边栏工具，可以链接到相对应的网站，同时，考虑到首页的数据过多，如果移到很下面看数据的话比较难返回顶部，因此在首页设置了一个返回顶部的按钮，方便快捷

* {% if bb==1 %}
    <form action="/select" style="margin-left: 20px">
        <span>请选择</span>
        <select name="city">
            {% for i in select %}
                <option value="{{ i }}">{{ i }}</option>
            {% endfor %}
        </select>
        <button>选择</button>
    </form>
{% endif %}

以此为例：当参数bb==1的时候，会在此页面显示一个单选框和一个按钮，在单选框中选择了城市名后点击选择按钮，提交用户选择，通过与python文档的交互，呈现所选择的结果

* 使用safe过滤器，例如{{ myechart|safe }}，当选择了之后会将参数传递到py端，根据py文件中的功能对数据进行过滤筛选，而后返回到html页面，由此实现数据的传输

#### 3. webapp动作描述

* 在首页顶部有按钮，鼠标点击可以实现页面跳转，左侧的悬浮组件分别对应该项目三个人的github主页，鼠标点击可以跳转，并且当首页下拉到一定位置的时候会弹出“返回顶部”按钮，单击即可自动回到顶部

* 在各省数据页面和app发展页面，右侧设有悬浮球，鼠标点击可以拖动悬浮球的位置，鼠标放在悬浮球上则会再次跳出三个小球，每个小球对应项目人的github主页，同时该页面也有按钮可以跳转到其他页面，还有下拉框可供选择想要的数据，除此之外，当鼠标放在地图上会显示该省的mcn机构数

* 在app发展页面也有下拉框，但选择想要对比的app后，下面的条形图会生成该app 2018年和2019年的发展情况，形成对比
